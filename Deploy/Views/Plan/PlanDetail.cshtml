@model IEnumerable<ReportSubmission.Models.PlanDetailViewModel>

@{
    ViewBag.Title = "PlanDetail";
    Layout = "~/_LayoutHome.cshtml";
}
@section title {
    Danh sách kế hoạch
}
@section menu{
}

<article class="post">
    <header>
        <div class="title">
            <h2><a href="#">Danh sách kế hoạch</a></h2>
        </div>
        <div class="meta">
            <time class="published" datetime="2017-10-18">October 18, 2017</time>
            <a href="/Home/userInfo" class="author">
                @if (Session["user_name]"] != null)
                {
                    <span class="name">
                        @Html.Raw(Session["user_name"].ToString())
                    </span>
                }
                else
                {
                    <span class="name">Jane Doe</span>
                }

                <img src="/images/avatar.jpg" alt="" />
            </a>
        </div>
    </header>
    <table class="table table-bordered dataTable" id="dataTable" width="100%" cellspacing="0" role="grid" aria-describedby="dataTable_info" style="width: 100%;">
        <thead>
            <tr role="row">
                <th class="sorting_asc" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-sort="ascending" aria-label="" style="width: 47.016px;">
                    @Html.DisplayNameFor(model => model.kehoachID)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 244.016px;">
                    @Html.DisplayNameFor(model => model.TenDA)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 112.016px;">
                    @Html.DisplayNameFor(model => model.DiaDiem)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 50.0156px;">
                    @Html.DisplayNameFor(model => model.UserIDs)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 89px;">
                    @Html.DisplayNameFor(model => model.ChiPhiIDs)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 50.0156px;">
                    @Html.DisplayNameFor(model => model.NgayBD)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 50.0156px;">
                    @Html.DisplayNameFor(model => model.NgayKT)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 50.0156px;">
                    @Html.DisplayNameFor(model => model.MucCpTU)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 50.0156px;">
                    @Html.DisplayNameFor(model => model.Trangthai)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 50.0156px;">
                    @Html.DisplayNameFor(model => model.TongCPDK)
                </th>
                <th class="sorting" tabindex="0" aria-controls="dataTable" rowspan="1" colspan="1" aria-label="" style="width: 50.0156px;">
                    Thao tác
                </th>
            </tr>
        </thead>
        
           
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.kehoachID)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TenDA)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DiaDiem)
                    </td>
                    <td>
                        @{ int tt = 1;
                foreach (var i in item.UserIDs)
                {

                                @Html.Raw(tt.ToString() + " . ");
                                @Html.DisplayFor(modelItem => i)
                                <br />
                                tt++;
                            }
                        }
                    </td>
                    <td>
                        @{ int tt2 = 1;

                            foreach (var i in item.ChiPhiIDs)
                            {
                                @Html.Raw(tt2.ToString() + " . ");
                                @Html.DisplayFor(modelItem => i)
                                <br />
                                tt2++;
                            }
                        }
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NgayBD)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NgayKT)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MucCpTU)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.Trangthai)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.TongCPDK)
                    </td>

                    <td>
                        <button type="submit"  style="width:auto "name="Duyệt kế hoạch">Duyệt </button>
                        <button type="submit" style="width:auto "name="Hủy kế hoạch">Hủy</button>
                        <button type="submit" name="Xem kế hoạch">Xem </button>
                    </td>
                </tr>
                            }

        </table>
</article>